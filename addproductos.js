function addToCart(e,t,r,a){var o=JSON.parse(localStorage.getItem("carrito"))||[],c=(r="number"!=typeof r||isNaN(r)?0:r,o.find(t=>t.id===e));c?c.quantity+=1:o.push({id:e,name:t,price:r,image:a,quantity:1}),localStorage.setItem("carrito",JSON.stringify(o)),alert("Producto aÃ±adido al carrito")}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".add-to-cart").forEach(t=>{t.addEventListener("click",function(){var t=this.closest(".grid-item"),e=t.dataset.productId,r=t.querySelector("h3").textContent,a=t.querySelector(".precio").textContent;addToCart(e,r,parseFloat(a.replace(/[^\d.,]/g,"").replace(",",".")),t.querySelector("img").src)})})});